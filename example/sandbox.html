<html>
<head>
	<title>MochaScript Sandbox</title>
	<style>
		#js {
			float: left;
		}

		#ms {
			float: left;
		}
	</style>
</head>
<body>
<textarea id="ms" style="width: 800px; height: 400px;">
(! sayhi (fn (name) (log "hello " name)))

(! api "http://api.stackexchange.com/2.1/answers?key=U4DMV*8nvpm3EOpvf69Rxw((&site=stackoverflow&order=desc&sort=activity&filter=default")

(sayhi "explorer")

(.get $ api (fn (data)
              (log (pluck (pluck (:items data) 'owner') 'display_name'))))
</textarea>
	<pre id="js">
	</pre>

	<button id="run">Run</button>
	
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="../src/stdlib-dashlo.js"></script>
	<script src="../src/stdlib.js"></script>
	<script src="../dist/mochascriptParser.js"></script>
	<script>
		var $ms = $('#ms');
		var $js = $('#js');

		$("#generate").click(generate);

		function generate() {
			var result = mochascriptParser.parse($ms.val());
			$js.text(result);
			return result;
		}

		$("#run").click(function() {
			eval(generate());
		});
	</script>
</body>
</html>